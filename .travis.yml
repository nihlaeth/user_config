language: python
python:
- '2.7'
- '3.3'
- '3.4'
- '3.5'
- '3.6'
- 3.7-dev
- nightly
before_install:
- pip install --upgrade setuptools
- pip install --upgrade pip
install: pip install ".[deploy]"
script: python -m pytest --cov=user_config --cov-report xml -v
after_script: python-codacy-coverage -r coverage.xml
deploy:
    # test pypi
    - provider: pypi
      server: https://testpypi.python.org/pypi
      user: nihlaeth
        password:
          secure: LT9NLXIrLUI7ogO+3Q7kit3n739B/sMaQFoT8vXUmZF6lLjD78RyXZldo/baH7UAFAo0fBs105iA+5+dVnP2lpsWSzNQIwg4obtKCpo559tPOZZULIUKqWazeThg/NWYzZna4K737Y645cXzrl0+AMo23hmsddHJcImnTBew6EsJBTW725BhGI5jhc3tHSKfGkTW17NfZESSx624yfky+R5ASEg8FJPU3+ypW63YW05PtKfhmPxHGetUw7cB2gBUfmmhUAyXVqtbDFNdDh5RiIokDoqysAnY5AYTes/mbUKqp14sl7SyeJ95Qv3d+SOZl6g/TrLYy1SXvud6Kffb+wHd+OCfS3Dar8uaNijC2D0cESHCoihpnTBRrpyZ7SFYWvU3nlQpyfqM32VOaTGJ88zpEfzDCK8HgMaCHFUQyZCEsn09Dj3cnOvb3pysuM0DAXlH9csiqKtURMGH7pNB8lUAMdHUmHxA7fUmxyloDv7yZ680dYQ/dvvOaovIpB4UN1Kd8skBdgkMRDumfj9OtjlYMPZg2DwgVgvMTYBRPj6ZvTn52lQ/bx9vmAbum+l0iMFWoaZv6j3+HmKNNFBb4regrz7eIf4DABOuTdpQDewHoqcYTaihlUWTv9FchplHQb2VdOcYRh72lh/N8LfuBYwZ9B/ah7jLWH1ToZ9U19E=
        on:
          condition: $TRAVIS_PYTHON_VERSION = "3.6"
        distributions: sdist bdist_wheel --universal
    # production pypi
    - provider: pypi
      user: nihlaeth
        password:
          secure: LT9NLXIrLUI7ogO+3Q7kit3n739B/sMaQFoT8vXUmZF6lLjD78RyXZldo/baH7UAFAo0fBs105iA+5+dVnP2lpsWSzNQIwg4obtKCpo559tPOZZULIUKqWazeThg/NWYzZna4K737Y645cXzrl0+AMo23hmsddHJcImnTBew6EsJBTW725BhGI5jhc3tHSKfGkTW17NfZESSx624yfky+R5ASEg8FJPU3+ypW63YW05PtKfhmPxHGetUw7cB2gBUfmmhUAyXVqtbDFNdDh5RiIokDoqysAnY5AYTes/mbUKqp14sl7SyeJ95Qv3d+SOZl6g/TrLYy1SXvud6Kffb+wHd+OCfS3Dar8uaNijC2D0cESHCoihpnTBRrpyZ7SFYWvU3nlQpyfqM32VOaTGJ88zpEfzDCK8HgMaCHFUQyZCEsn09Dj3cnOvb3pysuM0DAXlH9csiqKtURMGH7pNB8lUAMdHUmHxA7fUmxyloDv7yZ680dYQ/dvvOaovIpB4UN1Kd8skBdgkMRDumfj9OtjlYMPZg2DwgVgvMTYBRPj6ZvTn52lQ/bx9vmAbum+l0iMFWoaZv6j3+HmKNNFBb4regrz7eIf4DABOuTdpQDewHoqcYTaihlUWTv9FchplHQb2VdOcYRh72lh/N8LfuBYwZ9B/ah7jLWH1ToZ9U19E=
        on:
          tags: true
          condition: $TRAVIS_PYTHON_VERSION = "3.6"
        distributions: sdist bdist_wheel --universal
env:
  matrix:
    secure: mDTKEa4wzfc61mi16W660zf0zPqO2ydlFTZ3wFrWkB7dyV2zV9N/m/1nULKmbjHF5s9wy6urfOZXfb0XdMF0ZsYZbWHflq3lEDUYvPA6OaxM189q9fwQCkgmxtlIWSpjKM2v267gPYsbv8YZx0MvAXGbpx6xioVY7iILxl+/rsuPVyAnNJymVUhcJBY1wqoVmOFp+7hIvAn4FTCvINydcVfF/z4qu6q7Sc5LcKr39VuGZkXeUQiPzPL0HXEJMkG7MSP2LBn7PsTbgcVckWveOtatfWGq6X4K4iF9KY5bSArjw9a+LgdFZXm+dAroJ42kSaHApm5jHepUhZuBYuL4sSUGp8SLTDiRMtZ2/oL1t95+t017KZBwQciFV5L+5PKGuh3mwuz8QrqJAy6/AULMnU7dWUvBzqZg090mAaXLy9PKE2Mx9aES7iAPf1yAiDbnOQRFU0R2f3unfHYd6bc54rCNO3FWfNAjjADLuOL1EN/AvrSsmtigNFqPiC9B+Z4FkPJsEQpRN7lYv2K2W2MVXgb8nHlAGVoUeo8oFtmGPbZ4hcN6+gHe27ElRc6mTUQuPQHpMGXhou4ypZMinvnv6DsBXA6zGUwycaxiJpOSyPPXT9R8cHx34idjLmJsbbWOj02tg/BnABAMNu5p6dnaiih63JPD24ZharKd9wR5dds=
